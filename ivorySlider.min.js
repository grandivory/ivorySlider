(function(c){c.ivorySlider=function(e,g){var a=c(e),b=c.extend({},c.ivorySlider.defaults,g),h={};c.data(e,"ivorySlider",a);h={init:function(){a.wrap('<div class="ivorySlider-wrapper">');a.wrapper=a.parent();a.wrapper.wrap('<div class="ivorySlider">');"static"===a.css("position")&&a.css("position","relative");a.animating=!1;a.currentSlide=b.startSlide;a.slides=c(b.slideSelector,a);a.addClass("ivorySlider-slider");a.slides.addClass("ivorySlider-slide");h.pageNav.setup();h.controls.setup();a.slides.filter(":not(:eq("+
a.currentSlide+"))").hide();a.timer=new h.slideTimer;b.autoplay&&a.timer.setTimer(a.next,b.slideDuration);b.ready()},pageNav:{setup:function(){var d;if("string"===typeof b.pageNav)d=c(b.pageNav,a);else if("object"===typeof b.pageNav)d=b.pageNav;else if(!0===b.pageNav){pageNavContainer=c('<div class="ivorySlider-page-nav">').insertBefore(a.wrapper);for(i=0;i<a.slides.length;i++)c('<a href="#" class="ivorySlider-page-nav-slide-'+i+'"></a>').appendTo(pageNavContainer);d=c(".ivorySlider-page-nav a")}"undefined"!==
typeof d&&(a.pageNav=d,d.length===a.slides.length&&d.unbind("click").click(function(){b.autoplay=!1;a.slideTo(d.index(c(this)));return!1}),d.removeClass("active"),d.eq(b.startSlide).addClass("active"))}},controls:{setup:function(){var d=prevLink=playLink=pauseLink=c();if(!0===b.arrows||!0===b.playControls)controlsContainer=c('<div class="ivorySlider-controls">').insertAfter(a.wrapper),!0===b.playControls&&(playLink=c('<a href="#" class="play"></a>').appendTo(controlsContainer),pauseLink=c('<a href="#" class="pause"></a>').appendTo(controlsContainer)),
!0===b.timer?(timer=c('<div class="ivorySlider-timer-wrapper"><div class="ivorySlider-timer-bar"></div></div>').appendTo(controlsContainer),a.timerBar=timer.find(".ivorySlider-timer-bar")):a.timerBar=!1,!0===b.arrows&&(prevLink=c('<a href="#" class="prev"></a>').prependTo(controlsContainer),d=c('<a href="#" class="next"></a>').appendTo(controlsContainer));switch(typeof b.prevButton){case "string":prevLink.add(c(b.prevButton,a));break;case "object":prevLink.add(b.prevButton)}switch(typeof b.nextButton){case "string":d.add(c(b.nextButton,
a));break;case "object":d.add(b.nextButton)}switch(typeof b.playButton){case "string":playLink.add(c(b.playButton,a));break;case "object":playLink.add(b.playButton)}switch(typeof b.pauseButton){case "string":pauseLink.add(c(b.pauseButton,a));break;case "object":pauseLink.add(b.pauseButton)}prevLink.unbind("click").click(function(){b.autoplay=!1;a.prev();return!1});d.unbind("click").click(function(){b.autoplay=!1;a.next();return!1});playLink.unbind("click").click(function(){a.play();return!1});pauseLink.unbind("click").click(function(){a.pause();
return!1});a.timerBar&&timer.click(function(){a.timer.toggle()})}},slideTimer:function(){var d,c,f,e;this.setTimer=function(a,b){e=a;f=b;this.resume()};this.pause=function(){b.autoplay=!1;clearTimeout(d);d=!1;f-=new Date-c;a.timerBar&&a.timerBar.stop()};this.resume=function(){if(void 0===e||void 0===f)return!1;b.autoplay=!0;c=new Date;d&&clearTimeout(d);d=setTimeout(e,f);!1!==a.timerBar&&a.timerBar.stop().animate({width:"100%"},{duration:f,easing:"linear"});return!0};this.toggle=function(){d?this.pause():
this.resume()};this.stop=function(){b.autoplay=!1;this.clear()};this.clear=function(){clearTimeout(d);d=!1;a.timerBar&&a.timerBar.stop().css({width:0});f=b.slideDuration};return this}};a.next=function(){if(!a.animating){var d=a.currentSlide+1;if(d>=a.slides.length)if(b.carousel)d=0;else return;a.slideTo(d)}};a.prev=function(){if(!a.animating){var d=a.currentSlide-1;if(0>d)if(b.carousel)d=a.slides.length-1;else return;a.slideTo(d)}};a.slideTo=function(d){if(!a.animating&&d!==a.currentSlide){a.lastSlide=
a.currentSlide;a.currentSlide=d;var e=a.slides.eq(a.lastSlide),f=a.slides.eq(d);a.timer.clear();b.beforeChange(a.lastSlide,d);a.animating=!0;f.attr("data-ivorySlider-effect")&&c.ivorySlider.effects.hasOwnProperty(effect=f.attr("data-ivorySlider-effect"))?c.ivorySlider.effects[effect].apply(a,[b,e,f]):c.ivorySlider.effects.hasOwnProperty(b.effect)?c.ivorySlider.effects[b.effect].apply(a,[b,e,f]):(f.show(),e.hide(),a.finishedTransition());a.currentSlide=d;a.pageNav.removeClass("active");a.pageNav.eq(d).addClass("active")}};
a.options=function(a){c.extend(b,a)};a.play=function(){b.autoplay=!0;a.timerBar?a.timer.resume()||a.timer.setTimer(a.next,b.slideDuration):a.next();b.onPlay()};a.pause=function(){a.timerBar?a.timer.pause():a.timer.stop();b.onPause()};a.finishedTransition=function(){a.animating=!1;b.afterChange(a.lastSlide,a.currentSlide);b.autoplay&&a.timer.setTimer(a.next,b.slideDuration)};h.init()};c.ivorySlider.effects={};c.ivorySlider.defaults={carousel:!0,effect:"crossFade",speed:"slow",easing:"swing",direction:"horizontal",
offsetElements:!1,offsetValue:"500px",offsetTime:100,offsetEasing:"swing",slideSelector:"li",startSlide:0,pageNav:!1,arrows:!0,playControls:!0,timer:!1,nextButton:!1,prevButton:!1,playButton:!1,pauseButton:!1,autoplay:!1,slideDuration:5E3,ready:function(){},beforeChange:function(c,g){},afterChange:function(c,g){},onPlay:function(){},onPause:function(){}};c.fn.ivorySlider=function(e){if("object"===typeof e||void 0===e)return this.each(function(){void 0===c(this).data("ivorySlider")&&new c.ivorySlider(this,
e)});sliderFunction=[].shift.apply(arguments);functionArgs=arguments;if(1===this.length){var g=c.data(this.get(0),"ivorySlider");return g[sliderFunction].apply(g,functionArgs)}this.each(function(){var a=c.data(this,"ivorySlider");a[sliderFunction].apply(a,functionArgs)})}})(jQuery);
